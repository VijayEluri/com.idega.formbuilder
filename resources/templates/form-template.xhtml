<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ev="http://www.w3.org/2001/xml-events"
      xmlns:xf="http://www.w3.org/2002/xforms"
      xmlns:xs="http://www.w3.org/2001/XMLSchema">
    <head>
        <title><xf:output ref="instance('localized_strings')/lockey_form.title[@lang=instance('localized_strings')/current_language]" model="data_model" /></title>

        <xf:model id="form_id" schema="#fb-schema">
            <xf:instance id="data-instance" xmlns="">
                <data>
	                <form_id></form_id>
                </data>
            </xf:instance>
            
            <xf:submission id="submit_data_submission" action="webdav:/files/forms/submissions/" method="put" replace="none" />
        </xf:model>
        <xf:model id="data_model">
	        <xf:instance id="localized_strings" xmlns="">
		        <localized_strings>
			        <default_language>en</default_language>
	         		<current_language>en</current_language>
	         		<lockey_form.title lang="en">Form name english</lockey_form.title>
	         		<lockey_page-1.label lang="en">First page</lockey_page-1.label>
	         		<lockey_page-2.label lang="en">Submitted</lockey_page-2.label>
	         		<lockey_page-1-submit.label lang="en">Confirm</lockey_page-1-submit.label>
	         		<lockey_page-2.info lang="en">Form submitted, thank You!</lockey_page-2.info>
	         	</localized_strings>
	        </xf:instance>
	      </xf:model>
        <xs:schema id="fb-schema">
        </xs:schema>
    </head>
    <body>
        <xf:group appearance="full">
	        <xf:switch>
	        
		        <xf:case id="fbcomp_1">
			   	  <xf:group appearance="full">
			   	  	<xf:label ref="instance('localized_strings')/lockey_page-1.label[@lang=instance('localized_strings')/current_language]" model="data_model" />
			   	  	
			   	  	<div id="fbcomp_2" name="button_area">
				   	  	<xf:trigger id="fbcomp_3" name="fbcomp_button_submit">
					   	  	<xf:label ref="instance('localized_strings')/lockey_page-1-submit.label[@lang=instance('localized_strings')/current_language]" model="data_model" />
					   	  	<xf:send submission="submit_data_submission" />
                            <xf:toggle ev:event="DOMActivate" case="fbcomp_4" />
                        </xf:trigger>
			   	  	</div>
			   	  	
			   	  </xf:group>
		   	  </xf:case>
		   	  <xf:case id="fbcomp_4" name="thx_page">
			   	  <xf:group appearance="full">
			   	  	<xf:label ref="instance('localized_strings')/lockey_page-2.label[@lang=instance('localized_strings')/current_language]" model="data_model" />
			   	  	<xf:output ref="instance('localized_strings')/lockey_page-2.info[@lang=instance('localized_strings')/current_language]" model="data_model" />
			   	  </xf:group>
		   	  </xf:case>
	   	  </xf:switch>
        </xf:group>
    </body>
</html>
